<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript">
//实际开发时可能因为不想或不知道函数是同步还是异步,使用promise处理[这样不管同步异步都可以使用then和catch],但是方法会在本次操作结束执行
let f = function() {
	console.log('f');
}
Promise.resolve().then(f);
console.log('sync');

// 使用async函数可以让同步函数同步执行,异步函数异步执行[async会吃掉f2的异常,需要catch处理]
let f2 = function() {
	console.log('f2');
	return new Promise(function(resolve, reject) {
		setTimeout(resolve, 1000);
	})
};
(async () => f2())()
.then(function() {
	console.log('--- ---');
})
.catch(function() {
	console.log('--- +++');
})
console.log('sync2');

// 使用new Promise也可以完成上述操作
const f3 = function() {
	console.log('f3');
	return new Promise(function(resolve, reject) {
		setTimeout(resolve, 1000);
	})
}
new Promise(function(resolve, reject) {
	resolve(f3());
}).then(function() {
	console.log('+++ ---');
})

// 有一个提案是使用Promise.try完成上面写法
// Promise.try(f);
// 异步异常使用catch处理,同步异常使用try...catch处理,使用Promise.try就可以统一catch处理
</script>
</head>
<body>

</body>
</html>